
# Note Guard

Этот проект представляет собой сервис для создания и управления заметками, реализованный на FastAPI. Сервис поддерживает добавление заметок, вывод списка заметок и валидацию орфографических ошибок с использованием Яндекс.Спеллера. Также реализована аутентификация и авторизация, чтобы пользователи имели доступ только к своим заметкам.


![Logo](https://raw.githubusercontent.com/DevGruz/note-guard/72747d73fbb9984bc53de9c082e11b464daeee66/img/logo.svg)


## Функциональные возможности

- **Создание заметок:** Позволяет пользователям добавлять новые заметки.
- **Вывод списка заметок:** Позволяет получить список всех заметок, принадлежащих пользователю.
- **Валидация орфографических ошибок:** При создании заметки возможна автоматическая проверка орфографии с использованием Яндекс.Спеллера.
- **Аутентификация и авторизация:** Пользователи могут просматривать и управлять только своими заметками.


## Установка

#### 1. Клонирование репозитория

```bash
git clone https://github.com/DevGruz/note-guard.git
cd note-guard
```
    
#### 2. Настройка окружения

Создайте файл .env в корне проекта и настройте необходимые переменные окружения. В корне проекта есть пример .env файла с названием .env-example


## Запуск

В проекте есть docker-compose.yml файл для быстрой настройки и запуска

```bash
  docker-compose up --build
```
## API Reference

### 1. POST /auth/jwt/logout
Аутентификация пользователя и получение JWT токена, который сохраняется в cookie.

- **URL:** `/auth/jwt/login`
- **Метод:** `POST`
- **Тело запроса:**

```json
{
  "username": "your_email",
  "password": "your_password"
}
```


### 2. POST /auth/jwt/logout
Деактивация текущего JWT токена. Токен удаляется из cookie.

- **URL:** `/auth/jwt/logout`
- **Метод:** `POST`
- **Тело запроса:** Не требуется

### 3. POST /auth/register
Регистрация нового пользователя.

- **URL:** `/auth/register`
- **Метод:** `POST`
- **Тело запроса:**

```json
{
  "email": "your_email",
  "password": "your_password"
}
```

### 4. GET /users/me
Получение информации о текущем аутентифицированном пользователе.

- **URL:** `/users/me`
- **Метод:** `GET`
- **Аутентификация:** Требуется (JWT токен в cookie)
- **Тело запроса:** Не требуется

### 5. POST /notes
Создание новой заметки.

- **URL:** `/notes`
- **Метод:** `POST`
- **Аутентификация:** Требуется (JWT токен в cookie)
- **Тело запроса:**
```json
{
  "title": "Название заметки",
  "content": "Содержимое заметки"
}
```
- **Query параметры:**
  - `fix_errors` **(string, обязательный)**: Определяет, как обрабатывать орфографические ошибки. Вы можете указать один из трех вариантов:
    - `no_fix`: Не исправлять ошибки.
    - `notify`: Сообщить об ошибках (заметка не сохраняется, если ошибки найдены, и возвращается исправленный текст).
      - Если ошибки найдены, сервер вернет статус 400 и информацию об ошибках.
      - Если ошибок нет, сервер вернет статус 201.
    - `auto_fix`: Автоматически исправить ошибки перед сохранением.

### 6. GET /notes
Получение списка всех заметок текущего пользователя.

- **URL:** `/notes`
- **Метод:** `GET`
- **Аутентификация:** Требуется (JWT токен в cookie)

### 7. GET /notes/{note_id}
Получение конкретной заметки по её ID.

- **URL:** `/notes/{note_id}`
- **Метод:** `GET`
- **Аутентификация:** Требуется (JWT токен в cookie)
- **Path параметры:**
  - `note_id` **(integer, обязательный)**: ID заметки.

### 8. PATCH /notes/{note_id}
Обновление существующей заметки по её ID.

- **URL:** `/notes/{note_id}`
- **Метод:** `PATCH`
- **Аутентификация:** Требуется (JWT токен в cookie)
- **Path параметры:**
  - `note_id` **(integer, обязательный)**: ID заметки.
- **Тело запроса:** 
```json
{
  "title": "Новое название",
  "content": "Новое содержимое"
}
```
Поля в теле запроса являются необязательными. Можно указать одно или несколько полей для обновления.

### 9. DELETE /notes/{note_id}
Удаление заметки по её ID.

- **URL:** `/notes/{note_id}`
- **Метод:** `DELETE`
- **Аутентификация:** Требуется (JWT токен в cookie)
- **Path параметры:**
  - `note_id` **(integer, обязательный)**: ID заметки.
## Swagger

Для удобства разработки и тестирования API доступна Swagger-документация. Перейдите по адресу http://127.0.0.1:8000/docs, чтобы просмотреть и протестировать все доступные эндпоинты.
## Зависимости

Проект использует следующие ключевые библиотеки:

- **FastAPI**: Фреймворк для разработки веб-приложений.
- **SQLAlchemy**: ORM для работы с базами данных.
- **Pydantic**: Для валидации данных.
- **FastAPI Users**: Библиотека для добавления системы регистрации и аутентификации.
- **httpx**: Для выполнения асинхронных HTTP-запросов.

## Лицензия

Этот проект лицензирован под MIT License - подробности см. в файле [LICENSE](https://github.com/DevGruz/note-guard/blob/main/LICENSE).

